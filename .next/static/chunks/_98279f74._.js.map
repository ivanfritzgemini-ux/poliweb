{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ivanf/Desktop/poli/src/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"rounded-lg border bg-card text-card-foreground shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n))\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"text-2xl font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n))\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n))\nCardFooter.displayName = \"CardFooter\"\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }\n"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA;AAEA;;;;AAEA,MAAM,qBAAO,2KAAgB,MAG3B,QAA0B;QAAzB,EAAE,SAAS,EAAE,GAAG,OAAO;yBACxB,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,4HAAE,EACX,4DACA;QAED,GAAG,KAAK;;;;;;;;AAGb,KAAK,WAAW,GAAG;AAEnB,MAAM,2BAAa,2KAAgB,OAGjC,QAA0B;QAAzB,EAAE,SAAS,EAAE,GAAG,OAAO;yBACxB,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,4HAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;;AAGb,WAAW,WAAW,GAAG;AAEzB,MAAM,0BAAY,2KAAgB,OAGhC,QAA0B;QAAzB,EAAE,SAAS,EAAE,GAAG,OAAO;yBACxB,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,4HAAE,EACX,sDACA;QAED,GAAG,KAAK;;;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,gCAAkB,2KAAgB,OAGtC,QAA0B;QAAzB,EAAE,SAAS,EAAE,GAAG,OAAO;yBACxB,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,4HAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;;AAGb,gBAAgB,WAAW,GAAG;AAE9B,MAAM,4BAAc,2KAAgB,OAGlC,QAA0B;QAAzB,EAAE,SAAS,EAAE,GAAG,OAAO;yBACxB,6LAAC;QAAI,KAAK;QAAK,WAAW,IAAA,4HAAE,EAAC,YAAY;QAAa,GAAG,KAAK;;;;;;;;AAEhE,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,2KAAgB,QAGjC,QAA0B;QAAzB,EAAE,SAAS,EAAE,GAAG,OAAO;yBACxB,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,4HAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;;;AAGb,WAAW,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 129, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ivanf/Desktop/poli/src/lib/actions.ts"],"sourcesContent":["'use server';\r\n\r\nimport { supabase } from './supabase';\r\nimport type { Staff } from './types';\r\n\r\nexport async function getStaff(\r\n  page: number = 1, \r\n  pageSize: number = 10,\r\n  status?: string\r\n): Promise<{ staff: Staff[], totalCount: number }> {\r\n  const rangeFrom = (page - 1) * pageSize;\r\n  const rangeTo = page * pageSize - 1;\r\n\r\n  let query = supabase\r\n    .from('usuarios')\r\n    .select('id, rut, nombres, apellidos, email, status, fecha_nacimiento, sexo(id, nombre), role:roles(id, nombre_rol)', { count: 'exact' });\r\n\r\n  if (status) {\r\n    query = query.eq('status', status);\r\n  }\r\n  \r\n  query = query.order('rut', { ascending: true });\r\n\r\n  if (pageSize !== 0) {\r\n    query = query.range(rangeFrom, rangeTo);\r\n  }\r\n\r\n  const { data, error, count } = await query;\r\n\r\n  if (error) {\r\n    console.error('Error fetching staff:', error);\r\n    throw new Error('Could not fetch staff data.');\r\n  }\r\n\r\n  return { staff: data as Staff[], totalCount: count || 0 };\r\n}\r\n\r\nexport async function getSexos() {\r\n  const { data, error } = await supabase.from('sexo').select('id, nombre');\r\n  if (error) {\r\n    console.error('Error fetching sexos:', error);\r\n    throw new Error('Could not fetch sexos data.');\r\n  }\r\n  return data.map(sexo => ({ ...sexo, id: String(sexo.id) }));\r\n}\r\n\r\nexport async function getRoles() {\r\n  const { data, error } = await supabase.from('roles').select('id, nombre_rol');\r\n  if (error) {\r\n    console.error('Error fetching roles:', error);\r\n    throw new Error('Could not fetch roles data.');\r\n  }\r\n  return data.map(role => ({ ...role, id: String(role.id) }));\r\n}\r\n\r\nexport async function getRoleIdByName(roleName: string): Promise<string | null> {\r\n  const { data, error } = await supabase\r\n    .from('roles')\r\n    .select('id')\r\n    .eq('nombre_rol', roleName)\r\n    .single();\r\n\r\n  if (error && error.code !== 'PGRST116') { // PGRST116 = no rows found, which is not an error here.\r\n    console.error(`Error fetching role ID for ${roleName}:`, error);\r\n    throw new Error(`Could not fetch role ID for ${roleName}.`);\r\n  }\r\n\r\n  return data ? String(data.id) : null;\r\n}\r\n\r\nexport async function addStaff(formData: any) {\r\n  const { email, password, ...rest } = formData;\r\n\r\n  const { data: authData, error: authError } = await supabase.auth.signUp({\r\n    email,\r\n    password,\r\n  });\r\n\r\n  if (authError) {\r\n    console.error('Error signing up user:', authError);\r\n    throw new Error(authError.message);\r\n  }\r\n\r\n  const { data, error } = await supabase.from('usuarios').insert({\r\n    id: authData.user?.id, // Link to Supabase Auth user ID\r\n    rut: rest.rut,\r\n    nombres: rest.nombres,\r\n    apellidos: rest.apellidos,\r\n    sexo_id: rest.sexo_id,\r\n    email: email,\r\n    rol_id: rest.rol_id,\r\n    fecha_nacimiento: rest.fecha_nacimiento, // Already an ISO string\r\n    telefono: rest.telefono || null,\r\n    direccion: rest.direccion || null,\r\n  }).select('id, rut, nombres, apellidos, email, status, sexo(id, nombre), role:roles(id, nombre_rol)').single();\r\n\r\n  if (error) {\r\n    console.error('Error inserting staff data:', error);\r\n    throw new Error(error.message);\r\n  }\r\n\r\n  return data;\r\n}\r\n\r\nexport async function updateStaff(rut: string, updates: any, userId?: string) {\r\n  const { email, password, ...profileUpdates } = updates;\r\n\r\n  // 1. Update Supabase Auth if email or password are provided\r\n  if (email || password) {\r\n    const authUpdates: any = {};\r\n    if (email) authUpdates.email = email;\r\n    if (password) authUpdates.password = password;\r\n\r\n    if (!userId) {\r\n      throw new Error('User ID is required to update email or password.');\r\n    }\r\n\r\n    const { data: authData, error: authError } = await supabase.auth.admin.updateUserById(\r\n      userId,\r\n      authUpdates\r\n    );\r\n\r\n    if (authError) {\r\n      console.error('Error updating auth user:', authError);\r\n      throw new Error(authError.message);\r\n    }\r\n\r\n    // If email was changed, update it in the profile table as well\r\n    if (email) {\r\n      profileUpdates.email = email;\r\n    }\r\n  }\r\n\r\n  // 2. Update the public.usuarios table\r\n  const { data, error } = await supabase.from('usuarios').update(profileUpdates).eq('rut', rut);\r\n\r\n  if (error) {\r\n    console.error('Error updating staff data:', error);\r\n    throw new Error(error.message);\r\n  }\r\n\r\n  return data;\r\n}\r\n\r\nexport async function getStaffByRut(rut: string): Promise<Staff | null> {\r\n  const { data, error } = await supabase\r\n    .from('usuarios')\r\n    .select('id, rut, nombres, apellidos, email, status, sexo(id, nombre), role:roles(id, nombre_rol), telefono, direccion, fecha_nacimiento')\r\n    .eq('rut', rut)\r\n    .single();\r\n\r\n  if (error && error.code !== 'PGRST116') { // PGRST116 = no rows found, which is not an error here.\r\n    console.error('Error fetching staff by RUT:', error);\r\n    throw new Error('No se pudo buscar el personal por RUT.');\r\n  }\r\n\r\n  return data as Staff | null;\r\n}\r\n\r\nexport async function getStudentByRut(rut: string): Promise<any | null> {\r\n  const { data: user, error: userError } = await supabase\r\n    .from('usuarios')\r\n    .select('id')\r\n    .eq('rut', rut)\r\n    .single();\r\n\r\n  if (userError && userError.code !== 'PGRST116') {\r\n    console.error('Error fetching user by RUT:', userError);\r\n    throw new Error('No se pudo buscar el usuario por RUT.');\r\n  }\r\n\r\n  if (!user) {\r\n    return null; // User does not exist\r\n  }\r\n\r\n  const { data: student, error: studentError } = await supabase\r\n    .from('estudiantes_detalles')\r\n    .select('nro_registro')\r\n    .eq('id', user.id)\r\n    .single();\r\n\r\n  if (studentError && studentError.code !== 'PGRST116') {\r\n    console.error('Error fetching student details:', studentError);\r\n    throw new Error('No se pudo buscar los detalles del estudiante.');\r\n  }\r\n\r\n  return student;\r\n}\r\n\r\nexport async function getStudents(\r\n  page: number = 1, \r\n  pageSize: number = 10, \r\n  orderBy: { column: string, ascending: boolean } = { column: 'nro_registro', ascending: true }\r\n): Promise<{ students: any[], totalCount: number }> {\r\n  const rangeFrom = (page - 1) * pageSize;\r\n  const rangeTo = page * pageSize - 1;\r\n\r\n  let query = supabase\r\n    .from('estudiantes_detalles')\r\n    .select('nro_registro, fecha_matricula, fecha_retiro, curso:cursos(id, nivel, letra), usuario:usuarios(id, rut, nombres, apellidos, fecha_nacimiento, sexo:sexo(id, nombre), email, telefono, direccion)', { count: 'exact' });\r\n\r\n  if (orderBy) {\r\n    query = query.order(orderBy.column, { ascending: orderBy.ascending });\r\n  }\r\n\r\n  if (pageSize !== 0) {\r\n    query = query.range(rangeFrom, rangeTo);\r\n  }\r\n\r\n  const { data, error, count } = await query;\r\n\r\n  if (error) {\r\n    console.error('Error fetching students:', error);\r\n    throw new Error('Could not fetch student data.');\r\n  }\r\n\r\n  const students = data.map(s => {\r\n    const student = { ...s.usuario, ...s, id: s.nro_registro, userId: s.usuario.id, grade: s.curso?.nivel ? `${s.curso.nivel}º Medio ${s.curso.letra}` : null, enrollmentDate: s.fecha_matricula };\r\n    student.sexo = s.usuario.sexo;\r\n    student.curso = s.curso;\r\n    return student;\r\n  });\r\n\r\n  return { students, totalCount: count || 0 };\r\n}\r\n\r\nexport async function getCourses(): Promise<{ id: string; nombre: string }[]> {\r\n  const { data, error } = await supabase.from('cursos').select('id, nivel, letra');\r\n\r\n  if (error) {\r\n    console.error('Error fetching courses:', error);\r\n    throw new Error('Could not fetch courses data.');\r\n  }\r\n\r\n  return data.map(curso => ({ id: String(curso.id), nombre: `${curso.nivel}º Medio ${curso.letra}` }));\r\n}\r\n\r\nexport async function createUser(userData: any, rol_id: string | null = null) {\r\n  const { email, password, ...rest } = userData;\r\n\r\n  // Generate a random password if not provided\r\n  const userPassword = password || Math.random().toString(36).substring(2, 15);\r\n\r\n  const { data: authData, error: authError } = await supabase.auth.signUp({\r\n    email,\r\n    password: userPassword,\r\n  });\r\n\r\n  if (authError) {\r\n    console.error('Error signing up user:', authError);\r\n    throw new Error(authError.message);\r\n  }\r\n\r\n  const { data, error } = await supabase.from('usuarios').insert({\r\n    id: authData.user?.id, // Link to Supabase Auth user ID\r\n    rut: rest.rut,\r\n    nombres: rest.nombres,\r\n    apellidos: rest.apellidos,\r\n    sexo_id: rest.sexo_id,\r\n    email: email,\r\n    fecha_nacimiento: rest.fecha_nacimiento,\r\n    telefono: rest.phone || null,\r\n    direccion: rest.address || null,\r\n    rol_id: rol_id,\r\n  }).select('id').single();\r\n\r\n  if (error) {\r\n    console.error('Error inserting user data:', error);\r\n    throw new Error(error.message);\r\n  }\r\n\r\n  return data.id; // Return the new user's ID\r\n}\r\n\r\nexport async function addStudent(studentData: any) {\r\n  // This function now only inserts into 'estudiantes_detalles'\r\n  // It assumes the user (identified by RUT) already exists in the 'usuarios' table.\r\n  const { data, error } = await supabase\r\n    .from('estudiantes_detalles')\r\n    .insert([\r\n      {\r\n        id: studentData.usuario,\r\n        nro_registro: studentData.id,\r\n        curso_id: studentData.curso_id,\r\n        fecha_matricula: studentData.enrollmentDate,\r\n      },\r\n    ])\r\n    .select()\r\n    .single();\r\n\r\n  if (error) {\r\n    console.error('Error inserting student data:', error);\r\n    throw new Error(error.message);\r\n  }\r\n\r\n  return data;\r\n}\r\n\r\nexport async function updateStudent(userId: string, updates: any) {\r\n  const {\r\n    // Fields for 'usuarios' table\r\n    nombres,\r\n    apellidos,\r\n    sexo_id,\r\n    fecha_nacimiento,\r\n    telefono,\r\n    direccion,\r\n    // Fields for 'estudiantes_detalles' table\r\n    curso_id,\r\n    fecha_matricula,\r\n    fecha_retiro,\r\n  } = updates;\r\n\r\n  // 1. Update the 'usuarios' table\r\n  const { error: userError } = await supabase\r\n    .from('usuarios')\r\n    .update({\r\n      nombres,\r\n      apellidos,\r\n      sexo_id,\r\n      fecha_nacimiento,\r\n      telefono,\r\n      direccion,\r\n    })\r\n    .eq('id', userId);\r\n\r\n  if (userError) {\r\n    console.error('Error updating student user data:', userError);\r\n    throw new Error('Could not update student user data.');\r\n  }\r\n\r\n  // 2. Update the 'estudiantes_detalles' table\r\n  const { error: studentDetailsError } = await supabase\r\n    .from('estudiantes_detalles')\r\n    .update({\r\n      curso_id,\r\n      fecha_matricula,\r\n      fecha_retiro,\r\n    })\r\n    .eq('id', userId);\r\n\r\n  if (studentDetailsError) {\r\n    console.error('Error updating student details:', studentDetailsError);\r\n    throw new Error('Could not update student details.');\r\n  }\r\n\r\n  // 3. Fetch and return the updated student data\r\n  const { data: updatedStudent, error: fetchError } = await supabase\r\n    .from('estudiantes_detalles')\r\n    .select('nro_registro, fecha_matricula, fecha_retiro, curso:cursos(id, nivel, letra), usuario:usuarios(id, rut, nombres, apellidos, fecha_nacimiento, sexo:sexo(id, nombre), email, telefono, direccion)')\r\n    .eq('id', userId)\r\n    .single();\r\n\r\n  if (fetchError) {\r\n    console.error('Error fetching updated student data:', fetchError);\r\n    throw new Error('Could not fetch updated student data.');\r\n  }\r\n  \r\n  const mappedStudent = { \r\n    ...updatedStudent.usuario, \r\n    ...updatedStudent, \r\n    id: updatedStudent.nro_registro, \r\n    userId: updatedStudent.usuario.id,\r\n    grade: updatedStudent.curso?.nivel ? `${updatedStudent.curso.nivel}º Medio ${updatedStudent.curso.letra}` : null, \r\n    enrollmentDate: updatedStudent.fecha_matricula \r\n  };\r\n\r\n  mappedStudent.sexo = updatedStudent.usuario.sexo;\r\n  mappedStudent.curso = updatedStudent.curso;\r\n\r\n\r\n  return mappedStudent;\r\n}"],"names":[],"mappings":";;;;;;;IA6LsB,cAAA,WAAA,GAAA,IAAA,kPAAA,EAAA,8CAAA,uOAAA,EAAA,KAAA,GAAA,6OAAA,EAAA","debugId":null}},
    {"offset": {"line": 144, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ivanf/Desktop/poli/src/lib/actions.ts"],"sourcesContent":["'use server';\r\n\r\nimport { supabase } from './supabase';\r\nimport type { Staff } from './types';\r\n\r\nexport async function getStaff(\r\n  page: number = 1, \r\n  pageSize: number = 10,\r\n  status?: string\r\n): Promise<{ staff: Staff[], totalCount: number }> {\r\n  const rangeFrom = (page - 1) * pageSize;\r\n  const rangeTo = page * pageSize - 1;\r\n\r\n  let query = supabase\r\n    .from('usuarios')\r\n    .select('id, rut, nombres, apellidos, email, status, fecha_nacimiento, sexo(id, nombre), role:roles(id, nombre_rol)', { count: 'exact' });\r\n\r\n  if (status) {\r\n    query = query.eq('status', status);\r\n  }\r\n  \r\n  query = query.order('rut', { ascending: true });\r\n\r\n  if (pageSize !== 0) {\r\n    query = query.range(rangeFrom, rangeTo);\r\n  }\r\n\r\n  const { data, error, count } = await query;\r\n\r\n  if (error) {\r\n    console.error('Error fetching staff:', error);\r\n    throw new Error('Could not fetch staff data.');\r\n  }\r\n\r\n  return { staff: data as Staff[], totalCount: count || 0 };\r\n}\r\n\r\nexport async function getSexos() {\r\n  const { data, error } = await supabase.from('sexo').select('id, nombre');\r\n  if (error) {\r\n    console.error('Error fetching sexos:', error);\r\n    throw new Error('Could not fetch sexos data.');\r\n  }\r\n  return data.map(sexo => ({ ...sexo, id: String(sexo.id) }));\r\n}\r\n\r\nexport async function getRoles() {\r\n  const { data, error } = await supabase.from('roles').select('id, nombre_rol');\r\n  if (error) {\r\n    console.error('Error fetching roles:', error);\r\n    throw new Error('Could not fetch roles data.');\r\n  }\r\n  return data.map(role => ({ ...role, id: String(role.id) }));\r\n}\r\n\r\nexport async function getRoleIdByName(roleName: string): Promise<string | null> {\r\n  const { data, error } = await supabase\r\n    .from('roles')\r\n    .select('id')\r\n    .eq('nombre_rol', roleName)\r\n    .single();\r\n\r\n  if (error && error.code !== 'PGRST116') { // PGRST116 = no rows found, which is not an error here.\r\n    console.error(`Error fetching role ID for ${roleName}:`, error);\r\n    throw new Error(`Could not fetch role ID for ${roleName}.`);\r\n  }\r\n\r\n  return data ? String(data.id) : null;\r\n}\r\n\r\nexport async function addStaff(formData: any) {\r\n  const { email, password, ...rest } = formData;\r\n\r\n  const { data: authData, error: authError } = await supabase.auth.signUp({\r\n    email,\r\n    password,\r\n  });\r\n\r\n  if (authError) {\r\n    console.error('Error signing up user:', authError);\r\n    throw new Error(authError.message);\r\n  }\r\n\r\n  const { data, error } = await supabase.from('usuarios').insert({\r\n    id: authData.user?.id, // Link to Supabase Auth user ID\r\n    rut: rest.rut,\r\n    nombres: rest.nombres,\r\n    apellidos: rest.apellidos,\r\n    sexo_id: rest.sexo_id,\r\n    email: email,\r\n    rol_id: rest.rol_id,\r\n    fecha_nacimiento: rest.fecha_nacimiento, // Already an ISO string\r\n    telefono: rest.telefono || null,\r\n    direccion: rest.direccion || null,\r\n  }).select('id, rut, nombres, apellidos, email, status, sexo(id, nombre), role:roles(id, nombre_rol)').single();\r\n\r\n  if (error) {\r\n    console.error('Error inserting staff data:', error);\r\n    throw new Error(error.message);\r\n  }\r\n\r\n  return data;\r\n}\r\n\r\nexport async function updateStaff(rut: string, updates: any, userId?: string) {\r\n  const { email, password, ...profileUpdates } = updates;\r\n\r\n  // 1. Update Supabase Auth if email or password are provided\r\n  if (email || password) {\r\n    const authUpdates: any = {};\r\n    if (email) authUpdates.email = email;\r\n    if (password) authUpdates.password = password;\r\n\r\n    if (!userId) {\r\n      throw new Error('User ID is required to update email or password.');\r\n    }\r\n\r\n    const { data: authData, error: authError } = await supabase.auth.admin.updateUserById(\r\n      userId,\r\n      authUpdates\r\n    );\r\n\r\n    if (authError) {\r\n      console.error('Error updating auth user:', authError);\r\n      throw new Error(authError.message);\r\n    }\r\n\r\n    // If email was changed, update it in the profile table as well\r\n    if (email) {\r\n      profileUpdates.email = email;\r\n    }\r\n  }\r\n\r\n  // 2. Update the public.usuarios table\r\n  const { data, error } = await supabase.from('usuarios').update(profileUpdates).eq('rut', rut);\r\n\r\n  if (error) {\r\n    console.error('Error updating staff data:', error);\r\n    throw new Error(error.message);\r\n  }\r\n\r\n  return data;\r\n}\r\n\r\nexport async function getStaffByRut(rut: string): Promise<Staff | null> {\r\n  const { data, error } = await supabase\r\n    .from('usuarios')\r\n    .select('id, rut, nombres, apellidos, email, status, sexo(id, nombre), role:roles(id, nombre_rol), telefono, direccion, fecha_nacimiento')\r\n    .eq('rut', rut)\r\n    .single();\r\n\r\n  if (error && error.code !== 'PGRST116') { // PGRST116 = no rows found, which is not an error here.\r\n    console.error('Error fetching staff by RUT:', error);\r\n    throw new Error('No se pudo buscar el personal por RUT.');\r\n  }\r\n\r\n  return data as Staff | null;\r\n}\r\n\r\nexport async function getStudentByRut(rut: string): Promise<any | null> {\r\n  const { data: user, error: userError } = await supabase\r\n    .from('usuarios')\r\n    .select('id')\r\n    .eq('rut', rut)\r\n    .single();\r\n\r\n  if (userError && userError.code !== 'PGRST116') {\r\n    console.error('Error fetching user by RUT:', userError);\r\n    throw new Error('No se pudo buscar el usuario por RUT.');\r\n  }\r\n\r\n  if (!user) {\r\n    return null; // User does not exist\r\n  }\r\n\r\n  const { data: student, error: studentError } = await supabase\r\n    .from('estudiantes_detalles')\r\n    .select('nro_registro')\r\n    .eq('id', user.id)\r\n    .single();\r\n\r\n  if (studentError && studentError.code !== 'PGRST116') {\r\n    console.error('Error fetching student details:', studentError);\r\n    throw new Error('No se pudo buscar los detalles del estudiante.');\r\n  }\r\n\r\n  return student;\r\n}\r\n\r\nexport async function getStudents(\r\n  page: number = 1, \r\n  pageSize: number = 10, \r\n  orderBy: { column: string, ascending: boolean } = { column: 'nro_registro', ascending: true }\r\n): Promise<{ students: any[], totalCount: number }> {\r\n  const rangeFrom = (page - 1) * pageSize;\r\n  const rangeTo = page * pageSize - 1;\r\n\r\n  let query = supabase\r\n    .from('estudiantes_detalles')\r\n    .select('nro_registro, fecha_matricula, fecha_retiro, curso:cursos(id, nivel, letra), usuario:usuarios(id, rut, nombres, apellidos, fecha_nacimiento, sexo:sexo(id, nombre), email, telefono, direccion)', { count: 'exact' });\r\n\r\n  if (orderBy) {\r\n    query = query.order(orderBy.column, { ascending: orderBy.ascending });\r\n  }\r\n\r\n  if (pageSize !== 0) {\r\n    query = query.range(rangeFrom, rangeTo);\r\n  }\r\n\r\n  const { data, error, count } = await query;\r\n\r\n  if (error) {\r\n    console.error('Error fetching students:', error);\r\n    throw new Error('Could not fetch student data.');\r\n  }\r\n\r\n  const students = data.map(s => {\r\n    const student = { ...s.usuario, ...s, id: s.nro_registro, userId: s.usuario.id, grade: s.curso?.nivel ? `${s.curso.nivel}º Medio ${s.curso.letra}` : null, enrollmentDate: s.fecha_matricula };\r\n    student.sexo = s.usuario.sexo;\r\n    student.curso = s.curso;\r\n    return student;\r\n  });\r\n\r\n  return { students, totalCount: count || 0 };\r\n}\r\n\r\nexport async function getCourses(): Promise<{ id: string; nombre: string }[]> {\r\n  const { data, error } = await supabase.from('cursos').select('id, nivel, letra');\r\n\r\n  if (error) {\r\n    console.error('Error fetching courses:', error);\r\n    throw new Error('Could not fetch courses data.');\r\n  }\r\n\r\n  return data.map(curso => ({ id: String(curso.id), nombre: `${curso.nivel}º Medio ${curso.letra}` }));\r\n}\r\n\r\nexport async function createUser(userData: any, rol_id: string | null = null) {\r\n  const { email, password, ...rest } = userData;\r\n\r\n  // Generate a random password if not provided\r\n  const userPassword = password || Math.random().toString(36).substring(2, 15);\r\n\r\n  const { data: authData, error: authError } = await supabase.auth.signUp({\r\n    email,\r\n    password: userPassword,\r\n  });\r\n\r\n  if (authError) {\r\n    console.error('Error signing up user:', authError);\r\n    throw new Error(authError.message);\r\n  }\r\n\r\n  const { data, error } = await supabase.from('usuarios').insert({\r\n    id: authData.user?.id, // Link to Supabase Auth user ID\r\n    rut: rest.rut,\r\n    nombres: rest.nombres,\r\n    apellidos: rest.apellidos,\r\n    sexo_id: rest.sexo_id,\r\n    email: email,\r\n    fecha_nacimiento: rest.fecha_nacimiento,\r\n    telefono: rest.phone || null,\r\n    direccion: rest.address || null,\r\n    rol_id: rol_id,\r\n  }).select('id').single();\r\n\r\n  if (error) {\r\n    console.error('Error inserting user data:', error);\r\n    throw new Error(error.message);\r\n  }\r\n\r\n  return data.id; // Return the new user's ID\r\n}\r\n\r\nexport async function addStudent(studentData: any) {\r\n  // This function now only inserts into 'estudiantes_detalles'\r\n  // It assumes the user (identified by RUT) already exists in the 'usuarios' table.\r\n  const { data, error } = await supabase\r\n    .from('estudiantes_detalles')\r\n    .insert([\r\n      {\r\n        id: studentData.usuario,\r\n        nro_registro: studentData.id,\r\n        curso_id: studentData.curso_id,\r\n        fecha_matricula: studentData.enrollmentDate,\r\n      },\r\n    ])\r\n    .select()\r\n    .single();\r\n\r\n  if (error) {\r\n    console.error('Error inserting student data:', error);\r\n    throw new Error(error.message);\r\n  }\r\n\r\n  return data;\r\n}\r\n\r\nexport async function updateStudent(userId: string, updates: any) {\r\n  const {\r\n    // Fields for 'usuarios' table\r\n    nombres,\r\n    apellidos,\r\n    sexo_id,\r\n    fecha_nacimiento,\r\n    telefono,\r\n    direccion,\r\n    // Fields for 'estudiantes_detalles' table\r\n    curso_id,\r\n    fecha_matricula,\r\n    fecha_retiro,\r\n  } = updates;\r\n\r\n  // 1. Update the 'usuarios' table\r\n  const { error: userError } = await supabase\r\n    .from('usuarios')\r\n    .update({\r\n      nombres,\r\n      apellidos,\r\n      sexo_id,\r\n      fecha_nacimiento,\r\n      telefono,\r\n      direccion,\r\n    })\r\n    .eq('id', userId);\r\n\r\n  if (userError) {\r\n    console.error('Error updating student user data:', userError);\r\n    throw new Error('Could not update student user data.');\r\n  }\r\n\r\n  // 2. Update the 'estudiantes_detalles' table\r\n  const { error: studentDetailsError } = await supabase\r\n    .from('estudiantes_detalles')\r\n    .update({\r\n      curso_id,\r\n      fecha_matricula,\r\n      fecha_retiro,\r\n    })\r\n    .eq('id', userId);\r\n\r\n  if (studentDetailsError) {\r\n    console.error('Error updating student details:', studentDetailsError);\r\n    throw new Error('Could not update student details.');\r\n  }\r\n\r\n  // 3. Fetch and return the updated student data\r\n  const { data: updatedStudent, error: fetchError } = await supabase\r\n    .from('estudiantes_detalles')\r\n    .select('nro_registro, fecha_matricula, fecha_retiro, curso:cursos(id, nivel, letra), usuario:usuarios(id, rut, nombres, apellidos, fecha_nacimiento, sexo:sexo(id, nombre), email, telefono, direccion)')\r\n    .eq('id', userId)\r\n    .single();\r\n\r\n  if (fetchError) {\r\n    console.error('Error fetching updated student data:', fetchError);\r\n    throw new Error('Could not fetch updated student data.');\r\n  }\r\n  \r\n  const mappedStudent = { \r\n    ...updatedStudent.usuario, \r\n    ...updatedStudent, \r\n    id: updatedStudent.nro_registro, \r\n    userId: updatedStudent.usuario.id,\r\n    grade: updatedStudent.curso?.nivel ? `${updatedStudent.curso.nivel}º Medio ${updatedStudent.curso.letra}` : null, \r\n    enrollmentDate: updatedStudent.fecha_matricula \r\n  };\r\n\r\n  mappedStudent.sexo = updatedStudent.usuario.sexo;\r\n  mappedStudent.curso = updatedStudent.curso;\r\n\r\n\r\n  return mappedStudent;\r\n}"],"names":[],"mappings":";;;;;;;IAKsB,WAAA,WAAA,GAAA,IAAA,kPAAA,EAAA,8CAAA,uOAAA,EAAA,KAAA,GAAA,6OAAA,EAAA","debugId":null}},
    {"offset": {"line": 159, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ivanf/Desktop/poli/src/lib/actions.ts"],"sourcesContent":["'use server';\r\n\r\nimport { supabase } from './supabase';\r\nimport type { Staff } from './types';\r\n\r\nexport async function getStaff(\r\n  page: number = 1, \r\n  pageSize: number = 10,\r\n  status?: string\r\n): Promise<{ staff: Staff[], totalCount: number }> {\r\n  const rangeFrom = (page - 1) * pageSize;\r\n  const rangeTo = page * pageSize - 1;\r\n\r\n  let query = supabase\r\n    .from('usuarios')\r\n    .select('id, rut, nombres, apellidos, email, status, fecha_nacimiento, sexo(id, nombre), role:roles(id, nombre_rol)', { count: 'exact' });\r\n\r\n  if (status) {\r\n    query = query.eq('status', status);\r\n  }\r\n  \r\n  query = query.order('rut', { ascending: true });\r\n\r\n  if (pageSize !== 0) {\r\n    query = query.range(rangeFrom, rangeTo);\r\n  }\r\n\r\n  const { data, error, count } = await query;\r\n\r\n  if (error) {\r\n    console.error('Error fetching staff:', error);\r\n    throw new Error('Could not fetch staff data.');\r\n  }\r\n\r\n  return { staff: data as Staff[], totalCount: count || 0 };\r\n}\r\n\r\nexport async function getSexos() {\r\n  const { data, error } = await supabase.from('sexo').select('id, nombre');\r\n  if (error) {\r\n    console.error('Error fetching sexos:', error);\r\n    throw new Error('Could not fetch sexos data.');\r\n  }\r\n  return data.map(sexo => ({ ...sexo, id: String(sexo.id) }));\r\n}\r\n\r\nexport async function getRoles() {\r\n  const { data, error } = await supabase.from('roles').select('id, nombre_rol');\r\n  if (error) {\r\n    console.error('Error fetching roles:', error);\r\n    throw new Error('Could not fetch roles data.');\r\n  }\r\n  return data.map(role => ({ ...role, id: String(role.id) }));\r\n}\r\n\r\nexport async function getRoleIdByName(roleName: string): Promise<string | null> {\r\n  const { data, error } = await supabase\r\n    .from('roles')\r\n    .select('id')\r\n    .eq('nombre_rol', roleName)\r\n    .single();\r\n\r\n  if (error && error.code !== 'PGRST116') { // PGRST116 = no rows found, which is not an error here.\r\n    console.error(`Error fetching role ID for ${roleName}:`, error);\r\n    throw new Error(`Could not fetch role ID for ${roleName}.`);\r\n  }\r\n\r\n  return data ? String(data.id) : null;\r\n}\r\n\r\nexport async function addStaff(formData: any) {\r\n  const { email, password, ...rest } = formData;\r\n\r\n  const { data: authData, error: authError } = await supabase.auth.signUp({\r\n    email,\r\n    password,\r\n  });\r\n\r\n  if (authError) {\r\n    console.error('Error signing up user:', authError);\r\n    throw new Error(authError.message);\r\n  }\r\n\r\n  const { data, error } = await supabase.from('usuarios').insert({\r\n    id: authData.user?.id, // Link to Supabase Auth user ID\r\n    rut: rest.rut,\r\n    nombres: rest.nombres,\r\n    apellidos: rest.apellidos,\r\n    sexo_id: rest.sexo_id,\r\n    email: email,\r\n    rol_id: rest.rol_id,\r\n    fecha_nacimiento: rest.fecha_nacimiento, // Already an ISO string\r\n    telefono: rest.telefono || null,\r\n    direccion: rest.direccion || null,\r\n  }).select('id, rut, nombres, apellidos, email, status, sexo(id, nombre), role:roles(id, nombre_rol)').single();\r\n\r\n  if (error) {\r\n    console.error('Error inserting staff data:', error);\r\n    throw new Error(error.message);\r\n  }\r\n\r\n  return data;\r\n}\r\n\r\nexport async function updateStaff(rut: string, updates: any, userId?: string) {\r\n  const { email, password, ...profileUpdates } = updates;\r\n\r\n  // 1. Update Supabase Auth if email or password are provided\r\n  if (email || password) {\r\n    const authUpdates: any = {};\r\n    if (email) authUpdates.email = email;\r\n    if (password) authUpdates.password = password;\r\n\r\n    if (!userId) {\r\n      throw new Error('User ID is required to update email or password.');\r\n    }\r\n\r\n    const { data: authData, error: authError } = await supabase.auth.admin.updateUserById(\r\n      userId,\r\n      authUpdates\r\n    );\r\n\r\n    if (authError) {\r\n      console.error('Error updating auth user:', authError);\r\n      throw new Error(authError.message);\r\n    }\r\n\r\n    // If email was changed, update it in the profile table as well\r\n    if (email) {\r\n      profileUpdates.email = email;\r\n    }\r\n  }\r\n\r\n  // 2. Update the public.usuarios table\r\n  const { data, error } = await supabase.from('usuarios').update(profileUpdates).eq('rut', rut);\r\n\r\n  if (error) {\r\n    console.error('Error updating staff data:', error);\r\n    throw new Error(error.message);\r\n  }\r\n\r\n  return data;\r\n}\r\n\r\nexport async function getStaffByRut(rut: string): Promise<Staff | null> {\r\n  const { data, error } = await supabase\r\n    .from('usuarios')\r\n    .select('id, rut, nombres, apellidos, email, status, sexo(id, nombre), role:roles(id, nombre_rol), telefono, direccion, fecha_nacimiento')\r\n    .eq('rut', rut)\r\n    .single();\r\n\r\n  if (error && error.code !== 'PGRST116') { // PGRST116 = no rows found, which is not an error here.\r\n    console.error('Error fetching staff by RUT:', error);\r\n    throw new Error('No se pudo buscar el personal por RUT.');\r\n  }\r\n\r\n  return data as Staff | null;\r\n}\r\n\r\nexport async function getStudentByRut(rut: string): Promise<any | null> {\r\n  const { data: user, error: userError } = await supabase\r\n    .from('usuarios')\r\n    .select('id')\r\n    .eq('rut', rut)\r\n    .single();\r\n\r\n  if (userError && userError.code !== 'PGRST116') {\r\n    console.error('Error fetching user by RUT:', userError);\r\n    throw new Error('No se pudo buscar el usuario por RUT.');\r\n  }\r\n\r\n  if (!user) {\r\n    return null; // User does not exist\r\n  }\r\n\r\n  const { data: student, error: studentError } = await supabase\r\n    .from('estudiantes_detalles')\r\n    .select('nro_registro')\r\n    .eq('id', user.id)\r\n    .single();\r\n\r\n  if (studentError && studentError.code !== 'PGRST116') {\r\n    console.error('Error fetching student details:', studentError);\r\n    throw new Error('No se pudo buscar los detalles del estudiante.');\r\n  }\r\n\r\n  return student;\r\n}\r\n\r\nexport async function getStudents(\r\n  page: number = 1, \r\n  pageSize: number = 10, \r\n  orderBy: { column: string, ascending: boolean } = { column: 'nro_registro', ascending: true }\r\n): Promise<{ students: any[], totalCount: number }> {\r\n  const rangeFrom = (page - 1) * pageSize;\r\n  const rangeTo = page * pageSize - 1;\r\n\r\n  let query = supabase\r\n    .from('estudiantes_detalles')\r\n    .select('nro_registro, fecha_matricula, fecha_retiro, curso:cursos(id, nivel, letra), usuario:usuarios(id, rut, nombres, apellidos, fecha_nacimiento, sexo:sexo(id, nombre), email, telefono, direccion)', { count: 'exact' });\r\n\r\n  if (orderBy) {\r\n    query = query.order(orderBy.column, { ascending: orderBy.ascending });\r\n  }\r\n\r\n  if (pageSize !== 0) {\r\n    query = query.range(rangeFrom, rangeTo);\r\n  }\r\n\r\n  const { data, error, count } = await query;\r\n\r\n  if (error) {\r\n    console.error('Error fetching students:', error);\r\n    throw new Error('Could not fetch student data.');\r\n  }\r\n\r\n  const students = data.map(s => {\r\n    const student = { ...s.usuario, ...s, id: s.nro_registro, userId: s.usuario.id, grade: s.curso?.nivel ? `${s.curso.nivel}º Medio ${s.curso.letra}` : null, enrollmentDate: s.fecha_matricula };\r\n    student.sexo = s.usuario.sexo;\r\n    student.curso = s.curso;\r\n    return student;\r\n  });\r\n\r\n  return { students, totalCount: count || 0 };\r\n}\r\n\r\nexport async function getCourses(): Promise<{ id: string; nombre: string }[]> {\r\n  const { data, error } = await supabase.from('cursos').select('id, nivel, letra');\r\n\r\n  if (error) {\r\n    console.error('Error fetching courses:', error);\r\n    throw new Error('Could not fetch courses data.');\r\n  }\r\n\r\n  return data.map(curso => ({ id: String(curso.id), nombre: `${curso.nivel}º Medio ${curso.letra}` }));\r\n}\r\n\r\nexport async function createUser(userData: any, rol_id: string | null = null) {\r\n  const { email, password, ...rest } = userData;\r\n\r\n  // Generate a random password if not provided\r\n  const userPassword = password || Math.random().toString(36).substring(2, 15);\r\n\r\n  const { data: authData, error: authError } = await supabase.auth.signUp({\r\n    email,\r\n    password: userPassword,\r\n  });\r\n\r\n  if (authError) {\r\n    console.error('Error signing up user:', authError);\r\n    throw new Error(authError.message);\r\n  }\r\n\r\n  const { data, error } = await supabase.from('usuarios').insert({\r\n    id: authData.user?.id, // Link to Supabase Auth user ID\r\n    rut: rest.rut,\r\n    nombres: rest.nombres,\r\n    apellidos: rest.apellidos,\r\n    sexo_id: rest.sexo_id,\r\n    email: email,\r\n    fecha_nacimiento: rest.fecha_nacimiento,\r\n    telefono: rest.phone || null,\r\n    direccion: rest.address || null,\r\n    rol_id: rol_id,\r\n  }).select('id').single();\r\n\r\n  if (error) {\r\n    console.error('Error inserting user data:', error);\r\n    throw new Error(error.message);\r\n  }\r\n\r\n  return data.id; // Return the new user's ID\r\n}\r\n\r\nexport async function addStudent(studentData: any) {\r\n  // This function now only inserts into 'estudiantes_detalles'\r\n  // It assumes the user (identified by RUT) already exists in the 'usuarios' table.\r\n  const { data, error } = await supabase\r\n    .from('estudiantes_detalles')\r\n    .insert([\r\n      {\r\n        id: studentData.usuario,\r\n        nro_registro: studentData.id,\r\n        curso_id: studentData.curso_id,\r\n        fecha_matricula: studentData.enrollmentDate,\r\n      },\r\n    ])\r\n    .select()\r\n    .single();\r\n\r\n  if (error) {\r\n    console.error('Error inserting student data:', error);\r\n    throw new Error(error.message);\r\n  }\r\n\r\n  return data;\r\n}\r\n\r\nexport async function updateStudent(userId: string, updates: any) {\r\n  const {\r\n    // Fields for 'usuarios' table\r\n    nombres,\r\n    apellidos,\r\n    sexo_id,\r\n    fecha_nacimiento,\r\n    telefono,\r\n    direccion,\r\n    // Fields for 'estudiantes_detalles' table\r\n    curso_id,\r\n    fecha_matricula,\r\n    fecha_retiro,\r\n  } = updates;\r\n\r\n  // 1. Update the 'usuarios' table\r\n  const { error: userError } = await supabase\r\n    .from('usuarios')\r\n    .update({\r\n      nombres,\r\n      apellidos,\r\n      sexo_id,\r\n      fecha_nacimiento,\r\n      telefono,\r\n      direccion,\r\n    })\r\n    .eq('id', userId);\r\n\r\n  if (userError) {\r\n    console.error('Error updating student user data:', userError);\r\n    throw new Error('Could not update student user data.');\r\n  }\r\n\r\n  // 2. Update the 'estudiantes_detalles' table\r\n  const { error: studentDetailsError } = await supabase\r\n    .from('estudiantes_detalles')\r\n    .update({\r\n      curso_id,\r\n      fecha_matricula,\r\n      fecha_retiro,\r\n    })\r\n    .eq('id', userId);\r\n\r\n  if (studentDetailsError) {\r\n    console.error('Error updating student details:', studentDetailsError);\r\n    throw new Error('Could not update student details.');\r\n  }\r\n\r\n  // 3. Fetch and return the updated student data\r\n  const { data: updatedStudent, error: fetchError } = await supabase\r\n    .from('estudiantes_detalles')\r\n    .select('nro_registro, fecha_matricula, fecha_retiro, curso:cursos(id, nivel, letra), usuario:usuarios(id, rut, nombres, apellidos, fecha_nacimiento, sexo:sexo(id, nombre), email, telefono, direccion)')\r\n    .eq('id', userId)\r\n    .single();\r\n\r\n  if (fetchError) {\r\n    console.error('Error fetching updated student data:', fetchError);\r\n    throw new Error('Could not fetch updated student data.');\r\n  }\r\n  \r\n  const mappedStudent = { \r\n    ...updatedStudent.usuario, \r\n    ...updatedStudent, \r\n    id: updatedStudent.nro_registro, \r\n    userId: updatedStudent.usuario.id,\r\n    grade: updatedStudent.curso?.nivel ? `${updatedStudent.curso.nivel}º Medio ${updatedStudent.curso.letra}` : null, \r\n    enrollmentDate: updatedStudent.fecha_matricula \r\n  };\r\n\r\n  mappedStudent.sexo = updatedStudent.usuario.sexo;\r\n  mappedStudent.curso = updatedStudent.curso;\r\n\r\n\r\n  return mappedStudent;\r\n}"],"names":[],"mappings":";;;;;;;IAkOsB,aAAA,WAAA,GAAA,IAAA,kPAAA,EAAA,8CAAA,uOAAA,EAAA,KAAA,GAAA,6OAAA,EAAA","debugId":null}},
    {"offset": {"line": 174, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ivanf/Desktop/poli/src/app/dashboard/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\r\nimport { Users, GraduationCap, School, ArrowRight } from \"lucide-react\";\r\nimport Link from 'next/link';\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { getStudents, getStaff, getCourses } from \"@/lib/actions\";\r\nimport { useEffect, useState } from \"react\";\r\n\r\ntype UserProfile = {\r\n  nombres: string;\r\n  apellidos: string;\r\n  role?: { nombre_rol: string };\r\n};\r\n\r\nexport default function DashboardPage() {\r\n  const [profile, setProfile] = useState<UserProfile | null>(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [stats, setStats] = useState({\r\n    studentCount: 0,\r\n    staffCount: 0,\r\n    courseCount: 0,\r\n    recentEnrollments: [] as any[],\r\n  });\r\n\r\n  useEffect(() => {\r\n    // Load profile from localStorage\r\n    try {\r\n      const savedProfile = localStorage.getItem('userProfile');\r\n      if (savedProfile) {\r\n        setProfile(JSON.parse(savedProfile));\r\n      }\r\n    } catch (err) {\r\n      console.error('Error loading profile:', err);\r\n    }\r\n\r\n    // Load stats\r\n    async function loadStats() {\r\n      try {\r\n        const [\r\n          { totalCount: studentCount },\r\n          { totalCount: staffCount },\r\n          courses,\r\n          { students: recentEnrollments }\r\n        ] = await Promise.all([\r\n          getStudents(1, 0),\r\n          getStaff(1, 0),\r\n          getCourses(),\r\n          getStudents(1, 3, { column: 'fecha_matricula', ascending: false })\r\n        ]);\r\n\r\n        setStats({\r\n          studentCount,\r\n          staffCount,\r\n          courseCount: courses.length,\r\n          recentEnrollments,\r\n        });\r\n      } catch (err) {\r\n        console.error('Error loading stats:', err);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    }\r\n\r\n    loadStats();\r\n  }, []);\r\n\r\n  const staffActivity = [\r\n    { name: 'Ricardo Perez', action: 'actualizó el perfil de un estudiante.' },\r\n    { name: 'Maria Lopez', action: 'creó una nueva tarea.' },\r\n    { name: 'Jorge Diaz', action: 'registró un pago de matrícula.' },\r\n  ];\r\n\r\n  return (\r\n    <div className=\"space-y-8\">\r\n      <div className=\"flex flex-col space-y-2\">\r\n        <h1 className=\"text-3xl font-headline font-bold text-primary\">\r\n          Bienvenido{profile?.nombres?.endsWith('a') ? 'a' : ''} {profile ? `${profile.nombres} ${profile.apellidos}` : ''}\r\n        </h1>\r\n        <p className=\"text-muted-foreground\">\r\n          {profile?.role?.nombre_rol ? `${profile.role.nombre_rol} - ` : ''}\r\n          Aquí tienes un resumen de la actividad de tu institución.\r\n        </p>\r\n      </div>\r\n\r\n      <div className=\"grid gap-6 md:grid-cols-2 lg:grid-cols-3\">\r\n        <Card>\r\n          <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\r\n            <CardTitle className=\"text-sm font-medium\">\r\n              Total Estudiantes\r\n            </CardTitle>\r\n            <GraduationCap className=\"h-4 w-4 text-muted-foreground\" />\r\n          </CardHeader>\r\n          <CardContent>\r\n            <div className=\"text-2xl font-bold\">{loading ? '...' : stats.studentCount}</div>\r\n          </CardContent>\r\n        </Card>\r\n        <Card>\r\n          <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\r\n            <CardTitle className=\"text-sm font-medium\">Personal Activo</CardTitle>\r\n            <Users className=\"h-4 w-4 text-muted-foreground\" />\r\n          </CardHeader>\r\n          <CardContent>\r\n            <div className=\"text-2xl font-bold\">{loading ? '...' : stats.staffCount}</div>\r\n          </CardContent>\r\n        </Card>\r\n        <Card>\r\n          <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\r\n            <CardTitle className=\"text-sm font-medium\">Cursos Totales</CardTitle>\r\n            <School className=\"h-4 w-4 text-muted-foreground\" />\r\n          </CardHeader>\r\n          <CardContent>\r\n            <div className=\"text-2xl font-bold\">{loading ? '...' : stats.courseCount}</div>\r\n          </CardContent>\r\n        </Card>\r\n      </div>\r\n      <div className=\"grid grid-cols-1 gap-6 lg:grid-cols-2\">\r\n        <Card>\r\n          <CardHeader className=\"flex flex-row items-center justify-between\">\r\n            <CardTitle className=\"font-headline\">Matriculaciones Recientes</CardTitle>\r\n            <Button variant=\"ghost\" size=\"sm\" asChild>\r\n              <Link href=\"/students\">\r\n                Ver todos <ArrowRight className=\"ml-2 h-4 w-4\" />\r\n              </Link>\r\n            </Button>\r\n          </CardHeader>\r\n          <CardContent>\r\n            <ul className=\"space-y-4\">\r\n              {loading ? (\r\n                <li className=\"text-sm text-muted-foreground\">Cargando matriculaciones...</li>\r\n              ) : stats.recentEnrollments.map((student, i) => (\r\n                <li key={i} className=\"flex items-center justify-between\">\r\n                  <div>\r\n                    <p className=\"font-medium\">{student.nombres} {student.apellidos}</p>\r\n                    <p className=\"text-sm text-muted-foreground\">{student.grade}</p>\r\n                  </div>\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          </CardContent>\r\n        </Card>\r\n        <Card>\r\n          <CardHeader className=\"flex flex-row items-center justify-between\">\r\n            <CardTitle className=\"font-headline\">Actividad del Personal</CardTitle>\r\n             <Button variant=\"ghost\" size=\"sm\" asChild>\r\n              <Link href=\"/staff\">\r\n                Ver todo <ArrowRight className=\"ml-2 h-4 w-4\" />\r\n              </Link>\r\n            </Button>\r\n          </CardHeader>\r\n          <CardContent>\r\n             <ul className=\"space-y-4\">\r\n              {staffActivity.map((activity, i) => (\r\n                <li key={i} className=\"flex items-center\">\r\n                  <div className=\"flex flex-col\">\r\n                    <p className=\"text-sm\"><span className=\"font-semibold\">{activity.name}</span> {activity.action}</p>\r\n                    <span className=\"text-xs text-muted-foreground\">hace {i * 15 + 3} min</span>\r\n                  </div>\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          </CardContent>\r\n        </Card>\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 689, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/lucide-react/dist/esm/icons/school.js","sources":["file:///C:/Users/ivanf/Desktop/poli/node_modules/lucide-react/src/icons/school.ts"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M14 22v-4a2 2 0 1 0-4 0v4', key: 'hhkicm' }],\n  [\n    'path',\n    {\n      d: 'm18 10 3.447 1.724a1 1 0 0 1 .553.894V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-7.382a1 1 0 0 1 .553-.894L6 10',\n      key: '1xqip1',\n    },\n  ],\n  ['path', { d: 'M18 5v17', key: '1sw6gf' }],\n  ['path', { d: 'm4 6 7.106-3.553a2 2 0 0 1 1.788 0L20 6', key: '9d2mlk' }],\n  ['path', { d: 'M6 5v17', key: '1xfsm0' }],\n  ['circle', { cx: '12', cy: '9', r: '2', key: '1092wv' }],\n];\n\n/**\n * @component @name School\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTQgMjJ2LTRhMiAyIDAgMSAwLTQgMHY0IiAvPgogIDxwYXRoIGQ9Im0xOCAxMCAzLjQ0NyAxLjcyNGExIDEgMCAwIDEgLjU1My44OTRWMjBhMiAyIDAgMCAxLTIgMkg0YTIgMiAwIDAgMS0yLTJ2LTcuMzgyYTEgMSAwIDAgMSAuNTUzLS44OTRMNiAxMCIgLz4KICA8cGF0aCBkPSJNMTggNXYxNyIgLz4KICA8cGF0aCBkPSJtNCA2IDcuMTA2LTMuNTUzYTIgMiAwIDAgMSAxLjc4OCAwTDIwIDYiIC8+CiAgPHBhdGggZD0iTTYgNXYxNyIgLz4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjkiIHI9IjIiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/school\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst School = createLucideIcon('School', __iconNode);\n\nexport default School;\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 764, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/lucide-react/dist/esm/icons/arrow-right.js","sources":["file:///C:/Users/ivanf/Desktop/poli/node_modules/lucide-react/src/icons/arrow-right.ts"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M5 12h14', key: '1ays0h' }],\n  ['path', { d: 'm12 5 7 7-7 7', key: 'xquz4c' }],\n];\n\n/**\n * @component @name ArrowRight\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNNSAxMmgxNCIgLz4KICA8cGF0aCBkPSJtMTIgNSA3IDctNyA3IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/arrow-right\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ArrowRight = createLucideIcon('ArrowRight', __iconNode);\n\nexport default ArrowRight;\n"],"names":[],"mappings":";;;;;;;;;;;;;AAGO,CAAA,CAAA,CAAA,CAAA,CAAA,CAAM,UAAuB,CAAA,CAAA,CAAA,CAAA;IAClC;QAAC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAQ,CAAA;QAAA,CAAA;YAAE,GAAG,CAAY,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;YAAA,CAAA,CAAA,CAAA,CAAA,CAAK;QAAA,CAAU;KAAA,CAAA;IACzC;QAAC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAQ,CAAA;QAAA,CAAA;YAAE,GAAG,CAAiB,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;YAAA,CAAA,CAAA,CAAA,CAAA,CAAK;QAAA,CAAU;KAAA;CAChD,CAAA;AAaM,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,UAAA,CAAa,CAAA,KAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,iKAAiB,EAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,EAAc,CAAU,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA","debugId":null}},
    {"offset": {"line": 809, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ivanf/Desktop/poli/node_modules/next/src/build/webpack/loaders/next-flight-loader/action-client-wrapper.ts"],"sourcesContent":["// This file must be bundled in the app's client layer, it shouldn't be directly\n// imported by the server.\n\nexport { callServer } from 'next/dist/client/app-call-server'\nexport { findSourceMapURL } from 'next/dist/client/app-find-source-map-url'\n\n// A noop wrapper to let the Flight client create the server reference.\n// See also: https://github.com/facebook/react/pull/26632\n// eslint-disable-next-line import/no-extraneous-dependencies\nexport { createServerReference } from 'react-server-dom-webpack/client'\n"],"names":["callServer","createServerReference","findSourceMapURL"],"mappings":"AAAA,gFAAgF;AAChF,0BAA0B;;;;;;;;;;;;;;;;IAEjBA,UAAU,EAAA;eAAVA,eAAAA,UAAU;;IAMVC,qBAAqB,EAAA;eAArBA,QAAAA,qBAAqB;;IALrBC,gBAAgB,EAAA;eAAhBA,qBAAAA,gBAAgB;;;+BADE;qCACM;wBAKK","ignoreList":[0],"debugId":null}}]
}