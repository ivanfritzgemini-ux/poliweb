(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{926:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{callServer:function(){return s.callServer},createServerReference:function(){return n.createServerReference},findSourceMapURL:function(){return a.findSourceMapURL}});let s=r(1209),a=r(5153),n=r(7197)},2509:(e,t,r)=>{Promise.resolve().then(r.bind(r,8032))},3998:(e,t,r)=>{"use strict";r.d(t,{$:()=>i,r:()=>d});var s=r(5155),a=r(2115),n=r(7129),l=r(3101),c=r(4269);let d=(0,l.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),i=a.forwardRef((e,t)=>{let{className:r,variant:a,size:l,asChild:i=!1,...o}=e,f=i?n.DX:"button";return(0,s.jsx)(f,{className:(0,c.cn)(d({variant:a,size:l,className:r})),ref:t,...o})});i.displayName="Button"},4269:(e,t,r)=>{"use strict";r.d(t,{P:()=>l,cn:()=>n,y:()=>c});var s=r(2821),a=r(5889);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.QP)((0,s.$)(t))}function l(e){if(!e)return"";let t=e.replace(/[^0-9kK]/g,"").toUpperCase();if(t.length<2)return t;let r=t.slice(0,-1),s=t.slice(-1);return r=r.replace(/\B(?=(\d{3})+(?!\d))/g,"."),"".concat(r,"-").concat(s)}function c(e){if(!e)return!1;let t=e.replace(/[^0-9kK]/g,"").toUpperCase();if(!/^[0-9]{7,8}[0-9kK]{1}$/.test(t))return!1;let r=t.slice(0,-1),s=t.slice(-1),a=0,n=2;for(let e=r.length-1;e>=0;e--)a+=parseInt(r.charAt(e),10)*n,n=7===n?2:n+1;let l=11-a%11;return s===(11===l?"0":10===l?"K":l.toString())}},6948:(e,t,r)=>{"use strict";r.d(t,{Wu:()=>i,ZB:()=>d,Zp:()=>l,aR:()=>c});var s=r(5155),a=r(2115),n=r(4269);let l=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...a})});l.displayName="Card";let c=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",r),...a})});c.displayName="CardHeader";let d=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",r),...a})});d.displayName="CardTitle",a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",r),...a})}).displayName="CardDescription";let i=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",r),...a})});i.displayName="CardContent",a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",r),...a})}).displayName="CardFooter"},8032:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>N});var s=r(5155),a=r(6948),n=r(7940),l=r(6943),c=r(4294);let d=(0,c.A)("School",[["path",{d:"M14 22v-4a2 2 0 1 0-4 0v4",key:"hhkicm"}],["path",{d:"m18 10 3.447 1.724a1 1 0 0 1 .553.894V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-7.382a1 1 0 0 1 .553-.894L6 10",key:"1xqip1"}],["path",{d:"M18 5v17",key:"1sw6gf"}],["path",{d:"m4 6 7.106-3.553a2 2 0 0 1 1.788 0L20 6",key:"9d2mlk"}],["path",{d:"M6 5v17",key:"1xfsm0"}],["circle",{cx:"12",cy:"9",r:"2",key:"1092wv"}]]),i=(0,c.A)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);var o=r(2619),f=r.n(o),u=r(3998),x=r(2115),m=r(926);let h=(0,m.createServerReference)("0052af3a95d8758bd4c48d47869a5cab9c528e4108",m.callServer,void 0,m.findSourceMapURL,"getStudentsCount"),p=(0,m.createServerReference)("00a68141e975802a2708f75280ec7521fef4a9a3b8",m.callServer,void 0,m.findSourceMapURL,"getStaffCount"),v=(0,m.createServerReference)("0082d0079513fd4c5c13cfe3c858682f91a9efa171",m.callServer,void 0,m.findSourceMapURL,"getCoursesCount"),g=(0,m.createServerReference)("408024dd826fa7664888a180d2acdf049cfb9163b5",m.callServer,void 0,m.findSourceMapURL,"getRecentEnrollments"),j=(0,m.createServerReference)("40048d31d4df527827fcadf8904e3c098844446ac1",m.callServer,void 0,m.findSourceMapURL,"getRecentStaffActivity");function N(){let[e,t]=(0,x.useState)(null),[r,c]=(0,x.useState)(null),[o,m]=(0,x.useState)(null),[N,y]=(0,x.useState)([]),[b,w]=(0,x.useState)([]);return(0,x.useEffect)(()=>{!async function(){try{let[e,r,s,a,n]=await Promise.all([h(),p(),v(),g(),j()]);t(e),c(r),m(s),y(a),w(n)}catch(e){console.error("Failed to fetch dashboard data:",e)}}()},[]),(0,s.jsxs)("div",{className:"space-y-8",children:[(0,s.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,s.jsx)("h1",{className:"text-3xl font-headline font-bold text-primary",children:"Bienvenido a AcademiaLink"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Aqu\xed tienes un resumen de la actividad de tu instituci\xf3n."})]}),(0,s.jsxs)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[(0,s.jsxs)(a.Zp,{children:[(0,s.jsxs)(a.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(a.ZB,{className:"text-sm font-medium",children:"Total Estudiantes"}),(0,s.jsx)(n.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,s.jsxs)(a.Wu,{children:[(0,s.jsx)("div",{className:"text-2xl font-bold",children:null!==e?e:"Cargando..."}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground"})]})]}),(0,s.jsxs)(a.Zp,{children:[(0,s.jsxs)(a.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(a.ZB,{className:"text-sm font-medium",children:"Personal Activo"}),(0,s.jsx)(l.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,s.jsxs)(a.Wu,{children:[(0,s.jsx)("div",{className:"text-2xl font-bold",children:null!==r?r:"Cargando..."}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground"})]})]}),(0,s.jsxs)(a.Zp,{children:[(0,s.jsxs)(a.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(a.ZB,{className:"text-sm font-medium",children:"Cursos Totales"}),(0,s.jsx)(d,{className:"h-4 w-4 text-muted-foreground"})]}),(0,s.jsxs)(a.Wu,{children:[(0,s.jsx)("div",{className:"text-2xl font-bold",children:null!==o?o:"Cargando..."}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground"})]})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[(0,s.jsxs)(a.Zp,{children:[(0,s.jsxs)(a.aR,{className:"flex flex-row items-center justify-between",children:[(0,s.jsx)(a.ZB,{className:"font-headline",children:"Matriculaciones Recientes"}),(0,s.jsx)(u.$,{variant:"ghost",size:"sm",asChild:!0,children:(0,s.jsxs)(f(),{href:"/students",children:["Ver todos ",(0,s.jsx)(i,{className:"ml-2 h-4 w-4"})]})})]}),(0,s.jsx)(a.Wu,{children:(0,s.jsx)("ul",{className:"space-y-4",children:N.length>0?N.map((e,t)=>(0,s.jsxs)("li",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium",children:e.name}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:e.grade})]}),(0,s.jsx)("span",{className:"text-xs text-muted-foreground",children:new Date(e.enrollmentDate).toLocaleDateString()})]},t)):(0,s.jsx)("li",{className:"text-muted-foreground",children:"No hay matriculaciones recientes."})})})]}),(0,s.jsxs)(a.Zp,{children:[(0,s.jsxs)(a.aR,{className:"flex flex-row items-center justify-between",children:[(0,s.jsx)(a.ZB,{className:"font-headline",children:"Actividad del Personal"}),(0,s.jsx)(u.$,{variant:"ghost",size:"sm",asChild:!0,children:(0,s.jsxs)(f(),{href:"/staff",children:["Ver todo ",(0,s.jsx)(i,{className:"ml-2 h-4 w-4"})]})})]}),(0,s.jsx)(a.Wu,{children:(0,s.jsx)("ul",{className:"space-y-4",children:b.length>0?b.map((e,t)=>(0,s.jsx)("li",{className:"flex items-center",children:(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsxs)("p",{className:"text-sm",children:[(0,s.jsx)("span",{className:"font-semibold",children:e.name})," ",e.action]}),(0,s.jsx)("span",{className:"text-xs text-muted-foreground"})]})},t)):(0,s.jsx)("li",{className:"text-muted-foreground",children:"No hay actividad reciente del personal."})})})]})]})]})}}},e=>{e.O(0,[118,312,441,255,358],()=>e(e.s=2509)),_N_E=e.O()}]);