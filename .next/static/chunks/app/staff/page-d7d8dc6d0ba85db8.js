(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[991],{2633:(e,s,l)=>{Promise.resolve().then(l.bind(l,7083))},7083:(e,s,l)=>{"use strict";l.d(s,{StaffList:()=>U});var r=l(5155),a=l(2115),n=l(7270),t=l(3998),c=l(5142),i=l(1834),o=l(3101),d=l(4269);let x=(0,o.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function m(e){let{className:s,variant:l,...a}=e;return(0,r.jsx)("div",{className:(0,d.cn)(x({variant:l}),s),...a})}var h=l(4294);let j=(0,h.A)("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]),u=(0,h.A)("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);var p=l(109),f=l(2452),N=l(2544),v=l(6942),b=l(5653),g=l(3281),w=l(1186),C=l(5894),y=l(926);let z=(0,y.createServerReference)("40a1b9d81f62360b76f599c8da48a6fb18841c657b",y.callServer,void 0,y.findSourceMapURL,"addStaff");var _=l(2033);let S=b.z.object({rut:b.z.string().refine(d.y,{message:"RUT inv\xe1lido."}),nombres:b.z.string().min(2,"Los nombres deben tener al menos 2 caracteres."),apellidos:b.z.string().min(2,"Los apellidos deben tener al menos 2 caracteres."),sexo_id:b.z.string({required_error:"Debe seleccionar un sexo."}),password:b.z.string().min(6,"La contrase\xf1a debe tener al menos 6 caracteres."),email:b.z.string().email("Email inv\xe1lido."),rol_id:b.z.string({required_error:"Debe seleccionar un rol."}),fecha_nacimiento:b.z.string({required_error:"Debe seleccionar una fecha de nacimiento."}).refine(e=>{let s=new Date(e),l=new Date().getFullYear(),r=s.getFullYear(),a=s.getMonth()+1,n=s.getDate();return!(isNaN(s.getTime())||r<1900||r>l||a<1||a>12||n<1||n>31||n>new Date(r,a,0).getDate())},{message:"La fecha de nacimiento no es v\xe1lida. Aseg\xfarese de que el formato sea DD/MM/YYYY y el a\xf1o est\xe9 entre 1900 y el actual."}),telefono:b.z.string().optional(),direccion:b.z.string().optional()});function M(e){let{onStaffAdded:s,sexos:l,roles:n}=e,{toast:i}=(0,C.dj)(),[o,d]=(0,a.useState)(!1),x=(0,N.mN)({resolver:(0,v.u)(S),defaultValues:{rut:"",nombres:"",apellidos:"",sexo_id:"",password:"",email:"",rol_id:"",telefono:"",direccion:""}});async function m(e){d(!0);try{let l=new Date(e.fecha_nacimiento),r={rut:e.rut,nombres:e.nombres,apellidos:e.apellidos,sexo_id:e.sexo_id,email:e.email,rol_id:e.rol_id,fecha_nacimiento:l.toISOString(),telefono:e.telefono||null,direccion:e.direccion||null},a=await z({...r,password:e.password});s(a),i({title:"Personal A\xf1adido",description:"".concat(e.nombres," ").concat(e.apellidos," ha sido a\xf1adido al sistema.")}),x.reset()}catch(e){i({title:"Error al a\xf1adir personal",description:e.message||"Ocurri\xf3 un error desconocido.",variant:"destructive"})}finally{d(!1)}}return(0,r.jsx)(g.lV,{...x,children:(0,r.jsxs)("form",{onSubmit:x.handleSubmit(m),className:"grid grid-cols-2 gap-x-8 gap-y-4 pt-4",children:[(0,r.jsx)(g.zB,{control:x.control,name:"rut",render:e=>{let{field:s}=e;return(0,r.jsxs)(g.eI,{children:[(0,r.jsx)(g.lR,{className:"text-xs sm:text-sm",children:"RUT*"}),(0,r.jsx)(g.MJ,{children:(0,r.jsx)(c.p,{placeholder:"Ej: 12.345.678-9",...s})}),(0,r.jsx)(g.C5,{className:"text-xs sm:text-sm"})]})}}),(0,r.jsx)(g.zB,{control:x.control,name:"nombres",render:e=>{let{field:s}=e;return(0,r.jsxs)(g.eI,{children:[(0,r.jsx)(g.lR,{className:"text-xs sm:text-sm",children:"Nombres*"}),(0,r.jsx)(g.MJ,{children:(0,r.jsx)(c.p,{placeholder:"Ej: Ricardo",...s})}),(0,r.jsx)(g.C5,{className:"text-xs sm:text-sm"})]})}}),(0,r.jsx)(g.zB,{control:x.control,name:"apellidos",render:e=>{let{field:s}=e;return(0,r.jsxs)(g.eI,{children:[(0,r.jsx)(g.lR,{className:"text-xs sm:text-sm",children:"Apellidos*"}),(0,r.jsx)(g.MJ,{children:(0,r.jsx)(c.p,{placeholder:"Ej: P\xe9rez D\xedaz",...s})}),(0,r.jsx)(g.C5,{className:"text-xs sm:text-sm"})]})}}),(0,r.jsx)(g.zB,{control:x.control,name:"sexo_id",render:e=>{let{field:s}=e;return(0,r.jsxs)(g.eI,{children:[(0,r.jsx)(g.lR,{className:"text-xs sm:text-sm",children:"Sexo*"}),(0,r.jsxs)(w.l6,{onValueChange:s.onChange,value:s.value,children:[(0,r.jsx)(g.MJ,{children:(0,r.jsx)(w.bq,{children:(0,r.jsx)(w.yv,{placeholder:"Seleccione el sexo"})})}),(0,r.jsx)(w.gC,{children:l.map(e=>(0,r.jsx)(w.eb,{value:e.id,children:e.nombre},e.id))})]}),(0,r.jsx)(g.C5,{className:"text-xs sm:text-sm"})]})}}),(0,r.jsx)(g.zB,{control:x.control,name:"email",render:e=>{let{field:s}=e;return(0,r.jsxs)(g.eI,{children:[(0,r.jsx)(g.lR,{className:"text-xs sm:text-sm",children:"Email*"}),(0,r.jsx)(g.MJ,{children:(0,r.jsx)(c.p,{placeholder:"ejemplo@acad.link",...s})}),(0,r.jsx)(g.C5,{className:"text-xs sm:text-sm"})]})}}),(0,r.jsx)(g.zB,{control:x.control,name:"password",render:e=>{let{field:s}=e;return(0,r.jsxs)(g.eI,{children:[(0,r.jsx)(g.lR,{className:"text-xs sm:text-sm",children:"Contrase\xf1a*"}),(0,r.jsx)(g.MJ,{children:(0,r.jsx)(c.p,{type:"password",placeholder:"********",...s})}),(0,r.jsx)(g.C5,{className:"text-xs sm:text-sm"})]})}}),(0,r.jsx)(g.zB,{control:x.control,name:"rol_id",render:e=>{let{field:s}=e;return(0,r.jsxs)(g.eI,{children:[(0,r.jsx)(g.lR,{className:"text-xs sm:text-sm",children:"Rol*"}),(0,r.jsxs)(w.l6,{onValueChange:s.onChange,value:s.value,children:[(0,r.jsx)(g.MJ,{children:(0,r.jsx)(w.bq,{children:(0,r.jsx)(w.yv,{placeholder:"Seleccione un rol"})})}),(0,r.jsx)(w.gC,{children:n.map(e=>(0,r.jsx)(w.eb,{value:e.id,children:e.nombre_rol},e.id))})]}),(0,r.jsx)(g.C5,{className:"text-xs sm:text-sm"})]})}}),(0,r.jsx)(g.zB,{control:x.control,name:"fecha_nacimiento",render:e=>{let{field:s}=e;return(0,r.jsxs)(g.eI,{className:"col-span-2",children:[(0,r.jsx)(g.lR,{className:"text-xs sm:text-sm",children:"Fecha de Nacimiento*"}),(0,r.jsx)(g.MJ,{children:(0,r.jsx)(c.p,{type:"date",placeholder:"YYYY-MM-DD",...s,value:s.value?s.value.split("T")[0]:""})}),(0,r.jsx)(g.C5,{className:"text-xs sm:text-sm"})]})}}),(0,r.jsx)(g.zB,{control:x.control,name:"telefono",render:e=>{let{field:s}=e;return(0,r.jsxs)(g.eI,{children:[(0,r.jsx)(g.lR,{className:"text-xs sm:text-sm",children:"Tel\xe9fono"}),(0,r.jsx)(g.MJ,{children:(0,r.jsx)(c.p,{placeholder:"Ej: +56912345678",...s})}),(0,r.jsx)(g.C5,{className:"text-xs sm:text-sm"})]})}}),(0,r.jsx)(g.zB,{control:x.control,name:"direccion",render:e=>{let{field:s}=e;return(0,r.jsxs)(g.eI,{children:[(0,r.jsx)(g.lR,{className:"text-xs sm:text-sm",children:"Direcci\xf3n"}),(0,r.jsx)(g.MJ,{children:(0,r.jsx)(c.p,{placeholder:"Ej: Calle Falsa 123",...s})}),(0,r.jsx)(g.C5,{className:"text-xs sm:text-sm"})]})}}),(0,r.jsx)("div",{className:"col-span-2 flex justify-end pt-2",children:(0,r.jsxs)(t.$,{type:"submit",disabled:o,children:[o&&(0,r.jsx)(_.A,{className:"mr-2 h-4 w-4 animate-spin"}),"A\xf1adir"]})})]})})}let R=(0,y.createServerReference)("7016069dff30a9bb18d912a27e1eb8eb891d8194c7",y.callServer,void 0,y.findSourceMapURL,"updateStaff"),A=b.z.object({rut:b.z.string().refine(d.y,{message:"RUT inv\xe1lido."}),nombres:b.z.string().min(2,"Los nombres deben tener al menos 2 caracteres."),apellidos:b.z.string().min(2,"Los apellidos deben tener al menos 2 caracteres."),sexo_id:b.z.string({required_error:"Debe seleccionar un sexo."}),email:b.z.string().email("Email inv\xe1lido."),rol_id:b.z.string({required_error:"Debe seleccionar un rol."}),fecha_nacimiento:b.z.string({required_error:"Debe seleccionar una fecha de nacimiento."}).refine(e=>!isNaN(new Date(e).getTime()),{message:"La fecha de nacimiento no es v\xe1lida."}),telefono:b.z.string().optional(),direccion:b.z.string().optional()});function E(e){var s,l;let{staff:n,onStaffUpdated:i,sexos:o,roles:d}=e,{toast:x}=(0,C.dj)(),[m,h]=(0,a.useState)(!1),j=(0,N.mN)({resolver:(0,v.u)(A),defaultValues:{rut:n.rut,nombres:n.nombres,apellidos:n.apellidos,sexo_id:(null==(s=n.sexo)?void 0:s.id)||"",email:n.email,rol_id:(null==(l=n.role)?void 0:l.id)||"",fecha_nacimiento:n.fecha_nacimiento?n.fecha_nacimiento.substring(0,10):"",telefono:n.telefono||"",direccion:n.direccion||""}});async function u(e){h(!0);try{let s=new Date(e.fecha_nacimiento),l={nombres:e.nombres,apellidos:e.apellidos,sexo_id:e.sexo_id,rol_id:e.rol_id,fecha_nacimiento:s.toISOString(),telefono:e.telefono||null,direccion:e.direccion||null};await R(n.rut,l,n.id);let r={...n,...l,sexo:o.find(s=>s.id===e.sexo_id)||null,role:d.find(s=>s.id===e.rol_id)||null};i(r),x({title:"Personal Actualizado",description:"".concat(e.nombres," ").concat(e.apellidos," ha sido actualizado.")})}catch(e){x({title:"Error al actualizar personal",description:e.message||"Ocurri\xf3 un error desconocido.",variant:"destructive"})}finally{h(!1)}}return(0,r.jsx)(g.lV,{...j,children:(0,r.jsxs)("form",{onSubmit:j.handleSubmit(u),className:"grid grid-cols-2 gap-x-8 gap-y-4 pt-4",children:[(0,r.jsx)(g.zB,{control:j.control,name:"rut",render:e=>{let{field:s}=e;return(0,r.jsxs)(g.eI,{children:[(0,r.jsx)(g.lR,{className:"text-xs sm:text-sm",children:"RUT"}),(0,r.jsx)(g.MJ,{children:(0,r.jsx)(c.p,{...s,disabled:!0})}),(0,r.jsx)(g.C5,{className:"text-xs sm:text-sm"})]})}}),(0,r.jsx)(g.zB,{control:j.control,name:"email",render:e=>{let{field:s}=e;return(0,r.jsxs)(g.eI,{children:[(0,r.jsx)(g.lR,{className:"text-xs sm:text-sm",children:"Email"}),(0,r.jsx)(g.MJ,{children:(0,r.jsx)(c.p,{...s,disabled:!0})}),(0,r.jsx)(g.C5,{className:"text-xs sm:text-sm"})]})}}),(0,r.jsx)(g.zB,{control:j.control,name:"nombres",render:e=>{let{field:s}=e;return(0,r.jsxs)(g.eI,{children:[(0,r.jsx)(g.lR,{className:"text-xs sm:text-sm",children:"Nombres*"}),(0,r.jsx)(g.MJ,{children:(0,r.jsx)(c.p,{placeholder:"Ej: Ricardo",...s})}),(0,r.jsx)(g.C5,{className:"text-xs sm:text-sm"})]})}}),(0,r.jsx)(g.zB,{control:j.control,name:"apellidos",render:e=>{let{field:s}=e;return(0,r.jsxs)(g.eI,{children:[(0,r.jsx)(g.lR,{className:"text-xs sm:text-sm",children:"Apellidos*"}),(0,r.jsx)(g.MJ,{children:(0,r.jsx)(c.p,{placeholder:"Ej: P\xe9rez D\xedaz",...s})}),(0,r.jsx)(g.C5,{className:"text-xs sm:text-sm"})]})}}),(0,r.jsx)(g.zB,{control:j.control,name:"sexo_id",render:e=>{let{field:s}=e;return(0,r.jsxs)(g.eI,{children:[(0,r.jsx)(g.lR,{className:"text-xs sm:text-sm",children:"Sexo*"}),(0,r.jsxs)(w.l6,{onValueChange:s.onChange,value:s.value,children:[(0,r.jsx)(g.MJ,{children:(0,r.jsx)(w.bq,{children:(0,r.jsx)(w.yv,{placeholder:"Seleccione el sexo"})})}),(0,r.jsx)(w.gC,{children:o.map(e=>(0,r.jsx)(w.eb,{value:e.id,children:e.nombre},e.id))})]}),(0,r.jsx)(g.C5,{className:"text-xs sm:text-sm"})]})}}),(0,r.jsx)(g.zB,{control:j.control,name:"rol_id",render:e=>{let{field:s}=e;return(0,r.jsxs)(g.eI,{children:[(0,r.jsx)(g.lR,{className:"text-xs sm:text-sm",children:"Rol*"}),(0,r.jsxs)(w.l6,{onValueChange:s.onChange,value:s.value,children:[(0,r.jsx)(g.MJ,{children:(0,r.jsx)(w.bq,{children:(0,r.jsx)(w.yv,{placeholder:"Seleccione un rol"})})}),(0,r.jsx)(w.gC,{children:d.map(e=>(0,r.jsx)(w.eb,{value:e.id,children:e.nombre_rol},e.id))})]}),(0,r.jsx)(g.C5,{className:"text-xs sm:text-sm"})]})}}),(0,r.jsx)(g.zB,{control:j.control,name:"fecha_nacimiento",render:e=>{let{field:s}=e;return(0,r.jsxs)(g.eI,{className:"col-span-2",children:[(0,r.jsx)(g.lR,{className:"text-xs sm:text-sm",children:"Fecha de Nacimiento*"}),(0,r.jsx)(g.MJ,{children:(0,r.jsx)(c.p,{type:"date",placeholder:"YYYY-MM-DD",...s,value:s.value?s.value.substring(0,10):""})}),(0,r.jsx)(g.C5,{className:"text-xs sm:text-sm"})]})}}),(0,r.jsx)(g.zB,{control:j.control,name:"telefono",render:e=>{let{field:s}=e;return(0,r.jsxs)(g.eI,{children:[(0,r.jsx)(g.lR,{className:"text-xs sm:text-sm",children:"Tel\xe9fono"}),(0,r.jsx)(g.MJ,{children:(0,r.jsx)(c.p,{placeholder:"Ej: +56912345678",...s})}),(0,r.jsx)(g.C5,{className:"text-xs sm:text-sm"})]})}}),(0,r.jsx)(g.zB,{control:j.control,name:"direccion",render:e=>{let{field:s}=e;return(0,r.jsxs)(g.eI,{children:[(0,r.jsx)(g.lR,{className:"text-xs sm:text-sm",children:"Direcci\xf3n"}),(0,r.jsx)(g.MJ,{children:(0,r.jsx)(c.p,{placeholder:"Ej: Calle Falsa 123",...s})}),(0,r.jsx)(g.C5,{className:"text-xs sm:text-sm"})]})}}),(0,r.jsx)("div",{className:"col-span-2 flex justify-end pt-2",children:(0,r.jsxs)(t.$,{type:"submit",disabled:m,children:[m&&(0,r.jsx)(_.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Actualizar"]})})]})})}var D=l(6948),k=l(243);let I=(0,y.createServerReference)("60cd058ff78f4a8e7648e6ec640098af9e28bf9e17",y.callServer,void 0,y.findSourceMapURL,"getStaff");var B=l(788);let J=(0,y.createServerReference)("003e53687e330fc704fa85b6a3451d8bee3c150e02",y.callServer,void 0,y.findSourceMapURL,"getRoles");var L=l(3402);function U(){let[e,s]=(0,a.useState)([]),[l,o]=(0,a.useState)([]),[x,h]=(0,a.useState)([]),[N,v]=(0,a.useState)(!0),[b,g]=(0,a.useState)(""),[w,y]=(0,a.useState)(!1),[z,_]=(0,a.useState)(!1),[S,R]=(0,a.useState)(null),[A,U]=(0,a.useState)({key:null,direction:"ascending"}),[Y,q]=(0,a.useState)(1),[T]=(0,a.useState)(10),[F,P]=(0,a.useState)(0),{toast:V}=(0,C.dj)(),$=(0,a.useMemo)(()=>Math.ceil(F/T),[F,T]);(0,a.useEffect)(()=>{(async()=>{v(!0);try{let[e,l,r]=await Promise.all([I(Y,T),(0,B.T)(),J()]);s(e.data),P(e.totalCount),o(l),h(r)}catch(e){console.error("Failed to fetch initial data",e),V({title:"Error de Carga",description:"No se pudieron cargar los datos del personal.",variant:"destructive"})}finally{v(!1)}})()},[Y,T,V]);let O=(0,a.useMemo)(()=>e.filter(e=>"".concat(e.nombres," ").concat(e.apellidos).toLowerCase().includes(b.toLowerCase())||e.email.toLowerCase().includes(b.toLowerCase())),[e,b]),H=(0,a.useMemo)(()=>{let e=[...O];return null!==A.key&&e.sort((e,s)=>{let l,r;if("nombreCompleto"===A.key)l="".concat(e.nombres," ").concat(e.apellidos),r="".concat(s.nombres," ").concat(s.apellidos);else if("rol"===A.key){var a,n;l=(null==(a=e.role)?void 0:a.nombre_rol)||"",r=(null==(n=s.role)?void 0:n.nombre_rol)||""}else l=e[A.key],r=s[A.key];return l<r?"ascending"===A.direction?-1:1:l>r?"ascending"===A.direction?1:-1:0}),e},[O,A]),G=e=>{let s="descending";A.key===e&&"descending"===A.direction&&(s="ascending"),U({key:e,direction:s})},W=e=>A.key!==e?null:"ascending"===A.direction?(0,r.jsx)(j,{className:"ml-2 h-4 w-4"}):(0,r.jsx)(u,{className:"ml-2 h-4 w-4"});return(0,r.jsxs)(i.lG,{open:w,onOpenChange:y,children:[(0,r.jsx)(D.Zp,{children:(0,r.jsxs)(D.Wu,{className:"p-2 sm:p-4",children:[(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 mb-4",children:[(0,r.jsxs)("div",{className:"relative w-full max-w-sm",children:[(0,r.jsx)(p.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,r.jsx)(c.p,{placeholder:"Buscar...",value:b,onChange:e=>g(e.target.value),className:"pl-10"})]}),(0,r.jsx)(i.zM,{asChild:!0,children:(0,r.jsxs)(t.$,{className:"w-full sm:w-auto",children:[(0,r.jsx)(f.A,{className:"mr-0 h-4 w-4 md:mr-2"}),(0,r.jsx)("span",{className:"hidden md:inline",children:"A\xf1adir Personal"})]})})]}),(0,r.jsx)("div",{className:"rounded-lg border",children:N?(0,r.jsx)(()=>(0,r.jsxs)(n.XI,{children:[(0,r.jsx)(n.A0,{children:(0,r.jsxs)(n.Hj,{children:[(0,r.jsx)(n.nd,{className:"p-2 sm:p-4",children:(0,r.jsx)(k.E,{className:"h-6 w-20"})}),(0,r.jsx)(n.nd,{className:"p-2 sm:p-4",children:(0,r.jsx)(k.E,{className:"h-6 w-32"})}),(0,r.jsx)(n.nd,{className:"hidden sm:table-cell p-2 sm:p-4",children:(0,r.jsx)(k.E,{className:"h-6 w-16"})}),(0,r.jsx)(n.nd,{className:"hidden md:table-cell p-2 sm:p-4",children:(0,r.jsx)(k.E,{className:"h-6 w-40"})}),(0,r.jsx)(n.nd,{className:"p-2 sm:p-4",children:(0,r.jsx)(k.E,{className:"h-6 w-20"})}),(0,r.jsx)(n.nd,{className:"p-2 sm:p-4",children:(0,r.jsx)(k.E,{className:"h-6 w-20"})}),(0,r.jsx)(n.nd,{className:"text-right p-2 sm:p-4",children:(0,r.jsx)(k.E,{className:"h-6 w-16"})})]})}),(0,r.jsx)(n.BF,{children:[void 0,void 0,void 0,void 0,void 0].map((e,s)=>(0,r.jsx)(n.Hj,{className:"text-xs sm:text-sm",children:(0,r.jsx)(n.nA,{colSpan:7,children:(0,r.jsx)(k.E,{className:"h-8 w-full"})})},s))})]}),{}):(0,r.jsxs)(n.XI,{children:[(0,r.jsx)(n.A0,{children:(0,r.jsxs)(n.Hj,{children:[(0,r.jsx)(n.nd,{className:"p-2 sm:p-4",children:(0,r.jsxs)(t.$,{variant:"ghost",onClick:()=>G("rut"),children:["RUT ",W("rut")]})}),(0,r.jsx)(n.nd,{className:"p-2 sm:p-4",children:(0,r.jsxs)(t.$,{variant:"ghost",onClick:()=>G("nombreCompleto"),children:["Nombre ",W("nombreCompleto")]})}),(0,r.jsx)(n.nd,{className:"hidden sm:table-cell p-2 sm:p-4",children:"Sexo"}),(0,r.jsx)(n.nd,{className:"hidden lg:table-cell p-2 sm:p-4",children:"Email"}),(0,r.jsx)(n.nd,{className:"hidden sm:table-cell p-2 sm:p-4",children:(0,r.jsxs)(t.$,{variant:"ghost",onClick:()=>G("rol"),children:["Rol ",W("rol")]})}),(0,r.jsx)(n.nd,{className:"p-2 sm:p-4",children:(0,r.jsxs)(t.$,{variant:"ghost",onClick:()=>G("status"),children:["Estado ",W("status")]})}),(0,r.jsx)(n.nd,{className:"text-right p-2 sm:p-4",children:"Acciones"})]})}),(0,r.jsx)(n.BF,{children:H.length>0?H.map(e=>{var s,l;return(0,r.jsxs)(n.Hj,{className:"text-xs sm:text-sm",children:[(0,r.jsx)(n.nA,{className:"font-medium p-2 sm:p-4 whitespace-nowrap",children:(0,d.P)(e.rut)}),(0,r.jsx)(n.nA,{className:"p-2 sm:p-4 whitespace-nowrap",children:"".concat(e.nombres," ").concat(e.apellidos)}),(0,r.jsx)(n.nA,{className:"hidden sm:table-cell p-2 sm:p-4 whitespace-nowrap",children:null==(s=e.sexo)?void 0:s.nombre}),(0,r.jsx)(n.nA,{className:"hidden lg:table-cell p-2 sm:p-4 whitespace-nowrap",children:e.email}),(0,r.jsx)(n.nA,{className:"hidden sm:table-cell p-2 sm:p-4 whitespace-nowrap",children:null==(l=e.role)?void 0:l.nombre_rol}),(0,r.jsx)(n.nA,{className:"p-2 sm:p-4 whitespace-nowrap",children:(0,r.jsx)(m,{variant:e.status?"default":"secondary",children:e.status?"Activo":"Inactivo"})}),(0,r.jsx)(n.nA,{className:"text-right p-2 sm:p-4 whitespace-nowrap",children:(0,r.jsx)(t.$,{variant:"ghost",size:"sm",onClick:()=>{R(e),_(!0)},children:"Editar"})})]},e.rut)}):(0,r.jsx)(n.Hj,{children:(0,r.jsx)(n.nA,{colSpan:7,className:"h-24 text-center",children:"No se encontr\xf3 personal."})})})]})}),(0,r.jsxs)("div",{className:"flex justify-between items-center mt-4",children:[(0,r.jsxs)("div",{className:"text-sm text-muted-foreground",children:["Mostrando ",Math.min(F,(Y-1)*T+1),"-",Math.min(F,Y*T)," de ",F," personal"]}),$>1&&(0,r.jsx)(L.dK,{children:(0,r.jsxs)(L.Iu,{children:[(0,r.jsx)(L.cU,{children:(0,r.jsx)(L.Eb,{href:"#",onClick:e=>{e.preventDefault(),q(e=>Math.max(1,e-1))},className:1===Y?"pointer-events-none opacity-50":void 0})}),[...Array($)].map((e,s)=>(0,r.jsx)(L.cU,{children:(0,r.jsx)(L.n$,{href:"#",isActive:Y===s+1,onClick:e=>{e.preventDefault(),q(s+1)},children:s+1})},s)),(0,r.jsx)(L.cU,{children:(0,r.jsx)(L.WA,{href:"#",onClick:e=>{e.preventDefault(),q(e=>Math.min($,e+1))},className:Y===$?"pointer-events-none opacity-50":void 0})})]})})]})]})}),(0,r.jsxs)(i.Cf,{className:"sm:max-w-2xl",children:[(0,r.jsxs)(i.c7,{children:[(0,r.jsx)(i.L3,{className:"font-headline",children:"Nuevo Personal"}),(0,r.jsx)(i.rr,{children:"Complete los datos para crear una nueva cuenta."})]}),(0,r.jsx)(M,{onStaffAdded:e=>{q(1),y(!1)},sexos:l,roles:x})]}),S&&(0,r.jsx)(i.lG,{open:z,onOpenChange:_,children:(0,r.jsxs)(i.Cf,{className:"sm:max-w-2xl",children:[(0,r.jsxs)(i.c7,{children:[(0,r.jsx)(i.L3,{className:"font-headline",children:"Editar Personal"}),(0,r.jsx)(i.rr,{children:"Actualice los datos del miembro del personal."})]}),(0,r.jsx)(E,{staff:S,onStaffUpdated:e=>{_(!1),R(null)},sexos:l,roles:x})]})})]})}}},e=>{e.O(0,[118,331,644,291,441,255,358],()=>e(e.s=2633)),_N_E=e.O()}]);